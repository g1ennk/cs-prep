# JWT 특징과 주의 사항을 설명해주세요.

## 요약

---

### 1. 정의

- JWT(JSON Web Token)은 JSON 포멧으로 인증 및 인가 정보를 안전하게 전달하기 위해 사용하는 클레임 기반 토큰
- 보통 인증(Authentication)과 인가(Authorization)을 구현할 때 사용

### 2. 구조

- Header: 타입(JWT)과 서명 알고리즘(HS256, RS256 등)
- Payload: 토큰의 내용(사용자 정보, 만료 시간 등)
- Signature: Header + Payload를 시크릿 키로 서명한 값 -> 변조 여부 검증

### 3. 특징

- Stateless: 무상태로 서버가 세션 상태를 유지하지 않아도 되기 때문에 서버 확장에 유리
- 클레임 기반: 사용자 정보가 토큰에 포함되어 별도 조회가 필요 없음
- 편리성: 다양한 언어 및 플랫폼에서 표준화된 방식으로 사용 가능

### 4. 주의사항

- Payload 노출: Base64 인코딩이라 누구나 디코딩 가능 -> 민감 정보 저장 금지
- Secret Key 관리: 짧거나 유출되면 Brute Force, 위조 위협 -> 강력한 키 및 안전한 저장 필요
- 만료 전략
    - 짧게 잡으면 UX 저하
    - 길게 잡으면 탈취 위험 증가
      -> Refresh Token + Sliding Session 전략 활용
- 토큰 탈취 대응: 저장소(XSS 방어, HttpOnly 쿠키 권장), Refresh Token Rotation, 블랙리스트 전략 필요
- none 알고리즘 공격: 공격자가 `alg:none`으로 변경해 서명 우회 가능 -> 라이브러리 및 설정에서 차단 필요

## 발화

---

JWT는 클라이언트와 서버 간 인증 정보를 주고받을 때 사용하는 토큰 방식입니다.
토큰은 헤더, 페이로드, 시그니처 세 부분으로 나뉘고, 특히 페이로드에는 사용자 정보와 만료 시간이 들어갑니다.

JWT의 장점은 무상태성이라 서버가 상태를 저장하지 않아도 되고, 클레임 기반이라 사용자 정보를 쉽게 확인할 수 있습니다.

다만 몇 가지 주의사항이 있습니다.

첫째, JWT는 Base64로 인코딩되기 때문에 누구나 디코딩해서 데이터를 볼 수 있기 때문에 민감한 정보를 포함하면 안됩니다.
둘째, 시크릿 키가 약하거나 유출되면 위조가 가능하므로 시크릿 키를 안전하게 관리해야 합니다.
셋째, 만료 시간 설계가 중요한데, 너무 짧으면 사용자 경험이 떨어지고, 너무 길면 보안 위험이 커지기 때문에 Refresh Token, Sliding Session과 같은 전략을 함께 씁니다.
마지막으로, none 알고리즘 공격처럼 취약점을 악용할 수 있기 때문에 검증 로직과 라이브러리를 신뢰할 수 있는 걸 사용해야 합니다.

다시 말해, JWT는 편리하고 확장성이 뛰어나지만, 보안 설정과 토큰 관리 전략을 잘못하면 취약좀이 될 수 있다는 것이 핵심입니다.

## 추가 학습 자료

---

- [코딩애플 - JWT 대충 쓰면 님들 코딩인생 끝남](https://youtu.be/XXseiON9CV0?si=jm70pfl94XxVMmwU)
- [직접 만들어보며 이해하는 JWT](https://hudi.blog/self-made-jwt/)
- [Refresh Token과 Sliding Sessions를 활용한 JWT의 보안 전략](https://blog.ull.im/engineering/2019/02/07/jwt-strategy.html)